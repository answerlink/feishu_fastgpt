# Feishu FastGPT

<div align="center">

[![GitHub stars](https://img.shields.io/github/stars/answerlink/feishu_fastgpt?style=flat-square)](https://github.com/answerlink/feishu_fastgpt/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/answerlink/feishu_fastgpt?style=flat-square)](https://github.com/answerlink/feishu_fastgpt/network)
[![GitHub issues](https://img.shields.io/github/issues/answerlink/feishu_fastgpt?style=flat-square)](https://github.com/answerlink/feishu_fastgpt/issues)
[![GitHub license](https://img.shields.io/github/license/answerlink/feishu_fastgpt?style=flat-square)](https://github.com/answerlink/feishu_fastgpt/blob/main/LICENSE)
[![Python Version](https://img.shields.io/badge/python-3.8+-blue?style=flat-square)](https://www.python.org/downloads/)

ğŸš€ **åŸºäºé£ä¹¦å¼€æ”¾å¹³å°å’ŒFastGPTçš„ä¼ä¸šçº§æ™ºèƒ½çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [é…ç½®æ–‡æ¡£](#-é…ç½®æ–‡æ¡£) â€¢ [éƒ¨ç½²æŒ‡å—](#-éƒ¨ç½²æŒ‡å—) â€¢ [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)

</div>

---

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

Feishu FastGPT æ˜¯ä¸€ä¸ªä¼ä¸šçº§çš„æ™ºèƒ½çŸ¥è¯†ç®¡ç†ç³»ç»Ÿï¼Œæ·±åº¦é›†æˆé£ä¹¦å¼€æ”¾å¹³å°å’ŒFastGPTï¼Œä¸ºä¼ä¸šæä¾›æ™ºèƒ½åŒ–çš„çŸ¥è¯†ç®¡ç†å’Œé—®ç­”æœåŠ¡ã€‚

### æ ¸å¿ƒèƒ½åŠ›

- ğŸ¤– **æ™ºèƒ½æœºå™¨äººé—®ç­”**ï¼šåœ¨é£ä¹¦ä¸­ç›´æ¥ä¸AIåŠ©æ‰‹å¯¹è¯ï¼Œè·å¾—åŸºäºä¼ä¸šçŸ¥è¯†åº“çš„ç²¾å‡†ç­”æ¡ˆ
- ğŸ“š **çŸ¥è¯†åº“åŒæ­¥**ï¼šè‡ªåŠ¨åŒæ­¥é£ä¹¦äº‘æ–‡æ¡£ã€å¤šç»´è¡¨æ ¼ç­‰å†…å®¹åˆ°FastGPTçŸ¥è¯†åº“
- ğŸ–¥ï¸ **Webç®¡ç†ç•Œé¢**ï¼šæä¾›å¯è§†åŒ–çš„ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒé…ç½®ç®¡ç†ã€çŠ¶æ€ç›‘æ§
- âš¡ **å¤šè¿›ç¨‹æ¶æ„**ï¼šæ”¯æŒå¤šåº”ç”¨å¹¶å‘å¤„ç†ï¼Œé«˜æ€§èƒ½ç¨³å®šè¿è¡Œ
- ğŸ”„ **å®æ—¶åŒæ­¥**ï¼šæ”¯æŒæ–‡æ¡£å˜æ›´çš„å®æ—¶åŒæ­¥å’Œæ‰¹é‡å¯¼å…¥

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¤– é£ä¹¦æœºå™¨äººé—®ç­”
- **æ™ºèƒ½å¯¹è¯**ï¼šæ”¯æŒç§èŠå’Œç¾¤èŠä¸­çš„AIé—®ç­”
- **ä¸Šä¸‹æ–‡ç†è§£**ï¼šç»´æŒå¯¹è¯ä¸Šä¸‹æ–‡ï¼Œæä¾›è¿è´¯çš„äº¤äº’ä½“éªŒ
- **å¤šåª’ä½“æ”¯æŒ**ï¼šæ”¯æŒæ–‡æœ¬ã€å›¾ç‰‡ç­‰å¤šç§æ¶ˆæ¯ç±»å‹
- **æƒé™æ§åˆ¶**ï¼šç²¾ç»†åŒ–çš„ç”¨æˆ·å’Œç¾¤ç»„æƒé™ç®¡ç†

### ğŸ“š çŸ¥è¯†åº“ç®¡ç†
- **å¤šæ ¼å¼æ”¯æŒ**ï¼šé£ä¹¦äº‘æ–‡æ¡£(docx)ã€å¤šç»´è¡¨æ ¼(sheet)ã€æ€ç»´å¯¼å›¾ç­‰
- **æ™ºèƒ½å¤„ç†**ï¼šè‡ªåŠ¨æå–å›¾ç‰‡å¹¶ç”Ÿæˆæè¿°ï¼Œä¼˜åŒ–çŸ¥è¯†åº“å†…å®¹
- **å¢é‡åŒæ­¥**ï¼šæ™ºèƒ½è¯†åˆ«å˜æ›´å†…å®¹ï¼Œæ”¯æŒå¢é‡æ›´æ–°
- **æ‰¹é‡å¯¼å…¥**ï¼šæ”¯æŒæ•´ä¸ªçŸ¥è¯†ç©ºé—´çš„æ‰¹é‡åŒæ­¥

### ğŸ–¥ï¸ Webç®¡ç†ç•Œé¢
- **åº”ç”¨ç®¡ç†**ï¼šå¯è§†åŒ–ç®¡ç†å¤šä¸ªé£ä¹¦åº”ç”¨é…ç½®
- **çŠ¶æ€ç›‘æ§**ï¼šå®æ—¶ç›‘æ§ç³»ç»Ÿè¿è¡ŒçŠ¶æ€å’ŒåŒæ­¥è¿›åº¦
- **æ—¥å¿—æŸ¥çœ‹**ï¼šé›†ä¸­æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯
- **ç”¨æˆ·å‹å¥½**ï¼šåŸºäºVue 3å’ŒElement Plusçš„ç°ä»£åŒ–ç•Œé¢

### âš¡ æŠ€æœ¯æ¶æ„
- **FastAPIåç«¯**ï¼šé«˜æ€§èƒ½å¼‚æ­¥Webæ¡†æ¶
- **Vue 3å‰ç«¯**ï¼šç°ä»£åŒ–çš„å‰ç«¯ç”¨æˆ·ç•Œé¢
- **å¤šè¿›ç¨‹æ”¯æŒ**ï¼šæ”¯æŒå¤šåº”ç”¨å®ä¾‹å¹¶å‘è¿è¡Œ
- **æ•°æ®åº“é›†æˆ**ï¼šMySQLæ•°æ®åº“å­˜å‚¨é…ç½®å’ŒçŠ¶æ€

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- MySQL 5.7/8.0+
- Node.js 16+
- é£ä¹¦å¼€å‘è€…è´¦å·
- FastGPTæœåŠ¡å®ä¾‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/answerlink/feishu_fastgpt
cd feishu_fastgpt
```

### 2. å®‰è£…åç«¯ä¾èµ–

```bash
pip install -r requirements.txt
```

### 3. æ•°æ®åº“é…ç½®

```sql
CREATE DATABASE feishu_plus DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```
æ³¨ï¼šåªé¡»å»ºåº“ï¼Œè¡¨è‡ªåŠ¨åˆ›å»ºï¼Œæ”¯æŒ MySQL 5.7/8.0

### 4. é…ç½®åº”ç”¨

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp config/config.example.json config/config.json

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„é…ç½®ä¿¡æ¯
vim config/config.json
```

### 5. æ„å»ºå‰ç«¯

```bash
# å®‰è£…å‰ç«¯ä¾èµ–å¹¶æ„å»º
cd web
npm install
npm run build
cd ..
```

### 6. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨ä¸»æœåŠ¡
python feishu_plus_app.py

# æˆ–ä½¿ç”¨è„šæœ¬å¯åŠ¨å¤šè¿›ç¨‹æœåŠ¡
./start.sh
```

### 7. è®¿é—®ç®¡ç†ç•Œé¢

å¯åŠ¨æœåŠ¡åï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š

- **Webç®¡ç†ç•Œé¢**: http://localhost:8000
- **å‰ç«¯å¼€å‘æ¨¡å¼**: `cd web && npm run dev` (å¼€å‘æ—¶ä½¿ç”¨ http://localhost:5173)

## ğŸ“– é…ç½®æ–‡æ¡£

### ğŸ¤– é£ä¹¦æœºå™¨äººé…ç½®

è¯¦ç»†çš„é£ä¹¦æœºå™¨äººé…ç½®æ­¥éª¤è¯·å‚è€ƒï¼š[é£ä¹¦æœºå™¨äººé…ç½®æŒ‡å—](docs/feishu-bot-setup.md)

- åˆ›å»ºé£ä¹¦åº”ç”¨
- æƒé™é…ç½®
- äº‹ä»¶å›è°ƒè®¾ç½®
- ç‰ˆæœ¬å‘å¸ƒ

### ğŸ“š çŸ¥è¯†åº“åŒæ­¥é…ç½®

è¯¦ç»†çš„çŸ¥è¯†åº“åŒæ­¥é…ç½®è¯·å‚è€ƒï¼š[çŸ¥è¯†åº“åŒæ­¥æŒ‡å—](docs/knowledge-base-sync.md)

- æƒé™é…ç½®
- åŒæ­¥ç­–ç•¥
- æœ€ä½³å®è·µ

### âš™ï¸ é…ç½®æ–‡ä»¶è¯´æ˜

```json
{
    "APP_NAME": "feishu-plus",                // åº”ç”¨åç§°
    "DEBUG": true,                            // è°ƒè¯•æ¨¡å¼
    "DB_HOST": "localhost",                   // æ•°æ®åº“åœ°å€
    "DB_PORT": 3306,                         // æ•°æ®åº“ç«¯å£
    "DB_USER": "root",                       // æ•°æ®åº“ç”¨æˆ·
    "DB_PASSWORD": "password",               // æ•°æ®åº“å¯†ç 
    "DB_NAME": "feishu_plus",               // æ•°æ®åº“å
    "FEISHU_APPS": [                        // é£ä¹¦åº”ç”¨é…ç½®åˆ—è¡¨
        {
            "app_id": "cli_xxx",            // åº”ç”¨ID
            "app_secret": "xxx",            // åº”ç”¨å¯†é’¥
            "fastgpt_url": "http://localhost:3000", // FastGPTåœ°å€
            "fastgpt_key": "fastgpt-xxx",   // FastGPTå¯†é’¥
            "aichat_enable": true,          // å¯ç”¨AIèŠå¤©
            "dataset_sync": true            // å¯ç”¨çŸ¥è¯†åº“åŒæ­¥
        }
    ]
}
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
feishu_fastgpt/
â”œâ”€â”€ app/                   # åç«¯åº”ç”¨
â”‚   â”œâ”€â”€ api/               # APIè·¯ç”±
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒé…ç½®
â”‚   â”œâ”€â”€ db/                # æ•°æ®åº“
â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ schemas/           # æ•°æ®æ¨¡å¼
â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
â”œâ”€â”€ web/                   # å‰ç«¯ç•Œé¢
â”‚   â”œâ”€â”€ src/               # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ components/    # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/         # é¡µé¢
â”‚   â”‚   â””â”€â”€ api/           # APIè°ƒç”¨
â”‚   â”œâ”€â”€ dist/              # æ„å»ºè¾“å‡ºç›®å½•
â”‚   â””â”€â”€ public/            # é™æ€èµ„æº
â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â”œâ”€â”€ logs/                  # æ—¥å¿—
â”œâ”€â”€ temp/                  # ä¸´æ—¶æ–‡ä»¶
â”œâ”€â”€ feishu_plus_app.py     # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ single_app_worker.py   # å•åº”ç”¨å·¥ä½œè¿›ç¨‹
â”œâ”€â”€ start.sh               # å¯åŠ¨è„šæœ¬
â””â”€â”€ requirements.txt       # Pythonä¾èµ–
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# ä½¿ç”¨gunicornéƒ¨ç½²
pip install gunicorn
gunicorn main:app -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000

# ä½¿ç”¨nginxåå‘ä»£ç†
# é…ç½®nginx.conf
upstream feishu_fastgpt {
    server 127.0.0.1:8000;
}

server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass http://feishu_fastgpt;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### è¿›ç¨‹ç®¡ç†

é¡¹ç›®æä¾›äº†å¤šè¿›ç¨‹ç®¡ç†è„šæœ¬ï¼š

```bash
# å¯åŠ¨æ‰€æœ‰åº”ç”¨
./start.sh

# æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€
ps aux | grep "feishu"

# åœæ­¢æ‰€æœ‰è¿›ç¨‹ï¼ˆå¯ä»¥kill ä¸è¦ä½¿ç”¨kill -9ï¼‰
pkill -f "python.*feishu"
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md) äº†è§£è¯¦æƒ…ã€‚

## ğŸ“ æ›´æ–°æ—¥å¿—

æŸ¥çœ‹ [CHANGELOG.md](CHANGELOG.md) äº†è§£ç‰ˆæœ¬æ›´æ–°å†å²ã€‚

### æœ€æ–°ç‰ˆæœ¬ v2.1.0
- âœ¨ æ”¯æŒé£ä¹¦æœºå™¨äººæ™ºèƒ½é—®ç­”
- ğŸ“š çŸ¥è¯†åº“è‡ªåŠ¨åŒæ­¥åŠŸèƒ½
- ğŸ–¥ï¸ Webç®¡ç†ç•Œé¢
- âš¡ å¤šè¿›ç¨‹æ¶æ„æ”¯æŒ

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºåè®®ã€‚

## ğŸ™ è‡´è°¢

- [é£ä¹¦å¼€æ”¾å¹³å°](https://open.feishu.cn/) - æä¾›å¼ºå¤§çš„ä¼ä¸šçº§é€šè®¯API
- [FastGPT](https://fastgpt.in/) - ä¼˜ç§€çš„çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿ
- [FastAPI](https://fastapi.tiangolo.com/) - ç°ä»£åŒ–çš„Python Webæ¡†æ¶
- [Vue.js](https://vuejs.org/) - æ¸è¿›å¼JavaScriptæ¡†æ¶

## ğŸ“ æ”¯æŒä¸åé¦ˆ

- ğŸ› [æäº¤Bug](https://github.com/answerlink/feishu_fastgpt/issues/new?template=bug_report.md)
- ğŸ’¡ [åŠŸèƒ½å»ºè®®](https://github.com/answerlink/feishu_fastgpt/issues/new?template=feature_request.md)
- ğŸ“– [æŸ¥çœ‹æ–‡æ¡£](https://github.com/answerlink/feishu_fastgpt/wiki)
- ğŸ’¬ [è®¨è®ºäº¤æµ](https://github.com/answerlink/feishu_fastgpt/discussions)

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸ Starï¼**

Made with â¤ï¸ by [AnswerLink Team](https://github.com/answerlink)

</div>
